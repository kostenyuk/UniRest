
&НаКлиенте
Процедура УстановитьВидимость()
	
	// Командная панель.
	Элементы.ПодробныйРежим.Пометка = ПодробныйРежим;
	
	// Элементы.
	Элементы.ГруппаОтражатьВУправленческомУчете.Видимость = (Не РежимВыбора) И ИспользоватьУправленческийУчет И ПодробныйРежим;
	Элементы.ГруппаОтражатьВБухгалтерскомУчете.Видимость = Элементы.ГруппаОтражатьВУправленческомУчете.Видимость;
	Элементы.ГруппаВидОперации.ОтображатьВШапке = Не ПодробныйРежим;
	Элементы.ВидОперации.Видимость = ПодробныйРежим;
	
КонецПроцедуры // УстановитьВидимость()


&НаКлиенте
Процедура ПодробныйРежим(Команда)
	
	ПодробныйРежим = Не ПодробныйРежим;
	
	// Настройка формы.
	УстановитьВидимость();
	
КонецПроцедуры // ПодробныйРежим()


&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	// Управленчиский учет.
	ИспользоватьУправленческийУчет = ПолучитьФункциональнуюОпцию("ИспользоватьУправленческийУчет");

	// Режим выбора.
	РежимВыбора = __РаботаСДиалогамиКлиентСервер.ФормаРежимВыбора(ЭтаФорма, Элементы.Список,
		"ПодробныйРежим, Организация,СуммаДокументаБезСкидок,СуммаНаценкиДокумента,СуммаСкидкиДокумента,Сделка,ЧекККМ,Ответственный,Комментарий");
		
	// Настройка формы.
	Если Параметры.Свойство("Отбор") Тогда
		Если (__ПолучитьСвойство(Параметры.Отбор, "Модуль") = Перечисления.МодулиИПодсистемы.Ресторан) Тогда
			
			АвтоЗаголовок = Ложь;
			Заголовок = НСтр("ru = 'Чеки ККМ: ресторан'; uk = 'Чеки ККМ: ресторан'");
			Элементы.Модуль.Видимость = Ложь;
			
		КонецЕсли; 
		Если (__ПолучитьСвойство(Параметры.Отбор, "Модуль") = Перечисления.МодулиИПодсистемы.Доставка) Тогда
			
			АвтоЗаголовок = Ложь;
			Заголовок = НСтр("ru = 'Чеки ККМ: доставка'; uk = 'Чеки ККМ: доставка'");
			Элементы.Модуль.Видимость = Ложь;
			
		КонецЕсли; 
	КонецЕсли; 
	
КонецПроцедуры // ПриСозданииНаСервере()

&НаКлиенте
Процедура ПриОткрытии(Отказ)

	// Настройка формы.
	УстановитьВидимость();
	
КонецПроцедуры // ПриОткрытии()
